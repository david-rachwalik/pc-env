---
- name: Backup important system files
  hosts: windows
  tasks:
  # ------------------------ Applications ------------------------
  - include_role:
      name: windows/apps/handbrake
      tasks_from: backup
    tags: [handbrake]
  # - windows/apps/discord
  # - windows/apps/obs
  # - windows/apps/vscode
    tags: [applications, apps]

  # ------------------------ Games ------------------------
  - block:
    - include_role:
        name: windows/games/screenshots
        # tasks_from: backup
      tags: [screenshots, ss]
    # - include_role:
    #     name: windows/games/settings
    #   tags: [settings]
    # - include_role:
    #     name: windows/games/addons
    #   tags: [addons]
    tags: [games]

  # - windows/games/world_of_warcraft

  # - windows/games/sims_iii    # [archive screenshots/settings/addons, run memory cleanup]
  # - windows/games/diablo_iii
  # - windows/games/skyrim_se
  # - windows/games/skyrim_vr
  # - windows/games/rocket_league
  # - windows/games/terraria
  # - windows/games/vrchat
  # - windows/games/age_of_empires_ii
  # - windows/games/age_of_empires_iii
  # - windows/games/bayonetta
  # - windows/games/dragonball_fighter_z
  # - windows/games/left_4_dead
  # - windows/games/left_4_dead_2
  # - windows/games/magicka
  # - windows/games/senran_kagura_peach_beach_splash
  # - windows/games/star_wars_knights_of_the_old_republic

  # ----------------------------------------------------------------
  # --- Games already covered by OneDrive ---
  # - windows/games/overwatch
  # - windows/games/corruption_of_champions
  # ----------------------------------------------------------------


# TODO:
# - Connect to Windows and gather facts about the environment
# - Backup Windows application settings & data
#   - backup game saves, screenshots, addons
#   - backup preferences for productivity programs


# ----------------------------------------------------------------
# FROM: win_sync.yml
# ----------------------------------------------------------------
# - name: Transfer files from Windows to WLS
#   hosts: localhost
#   tasks:
#   - name: Transfer playbooks from Windows to WSL
#     copy:
#       src: "{{win_repo}}"
#       dest: "{{wsl_repo}}"
      
#   - name: Convert Windows files to *nix
#     command: "dos2unix {{wsl_repo}}"
#     register: out_dos2unix

# --- Previous ad-hoc commands used (prior to Git):
# sudo cp /mnt/d/Repos_Exp/pc-setup/etc/ansible/wsl_playbook_copy.yml /etc/ansible/wsl_playbook_copy.yml
# dos2unix /etc/ansible/wsl_playbook_copy.yml
# cd /etc/ansible/
# ansible-playbook wsl_playbook_copy.yml


- name: Clean system health
  hosts: windows
  become: true
  tasks:
  - include_role:
      name: windows/apps/ccleaner/clean
    tags: [ccleaner, clean]
  # - include_role:
  #     name: windows/apps/ccleaner/shutdown
  #   tags: [ccleaner, shutdown]
...